<template>
  <!-- Fluid gradient background (z-0, behind everything) -->
  <FluidGradient class="opacity-70" />

  <NuxtLayout>
    <NuxtPage
      :transition="{
        mode: 'out-in',
        css: false,
        onEnter: handlePageEnter,
      }"
    />
  </NuxtLayout>

  <!-- Circle reveal page transition overlay -->
  <PageTransitionOverlay ref="overlayComponentRef" />

  <!-- Smooth cursor trail effect (z-50, on top) -->
  <CursorTrail class="!opacity-20" />
</template>

<script setup>
import { ref, computed } from "vue";

// Page transition setup
const overlayComponentRef = ref(null);

// Access the overlay element ref from the component
const overlayRef = computed(() => overlayComponentRef.value?.overlayRef);

// Initialize page transition composable
const { handlePageLeave, handlePageEnter } = usePageTransition(overlayRef);

// Display fancy console info about developer and work
if (process.client) {
  console.log(`
   ğŸ‘¨â€ğŸ’» Developer: Patryk Smakosz
   ğŸŒ Website: https://patryksmakosz.com
   ğŸ¢ Brand: tastysites.pl
   ğŸ“§ Contact: patryksmakosz1@gmail.com

   ğŸš€ Built with:
   â€¢ Nuxt 4 (Vue 3) - Modern full-stack framework
   â€¢ GSAP - Premium animations & ScrollSmoother
   â€¢ TailwindCSS - Utility-first styling
   â€¢ Nuxt Content - Type-safe content management
   â€¢ Pinia - State management

   âœ¨ Features:
   â€¢ Smooth scrolling with GSAP ScrollSmoother
   â€¢ Interactive SVG animations
   â€¢ Orbital carousel components
   â€¢ Project case studies with video
   â€¢ Responsive design & accessibility

   ğŸ¯ Specializing in:
   â€¢ Creative web development
   â€¢ Interactive user experiences
   â€¢ Modern JavaScript frameworks
   â€¢ Performance optimization
   â€¢ Animation & motion design

   ğŸ’¼ Available for freelance projects & collaborations
  `);

  console.log(
    "%cğŸ¨ Welcome to my portfolio!",
    "font-size: 24px; color: #ff6b6b; font-weight: bold;"
  );
  console.log(
    "%cLike what you see? Let's work together!",
    "font-size: 16px; color: #4ecdc4; font-weight: bold;"
  );
  console.log(
    "%cğŸ“§ patryksmakosz1@gmail.com",
    "font-size: 14px; color: #45b7d1; text-decoration: underline;"
  );
}

// Intentionally minimal: all app-level structure is handled by layouts and pages
</script>
